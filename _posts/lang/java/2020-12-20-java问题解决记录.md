

## `new String("xxx")` 创建对象个数？
答案：1个或2个；具体看情况，如果常量池中已经存在，则1个，否则2个。
引申：
* 可以通过`javap -v XXX`的方式查看编译的代码进行字节码分析。
* 可以通过`String.intern()`方法，将字符串放入常量池中，从而减少对象的创建。

## 零拷贝和写时复制
答案：
零拷贝：`FileChannel.transferTo()`方法，减少数据拷贝次数，从而提高性能。
写时复制：`fork()`方法，子进程共享父进程的内存，当子进程修改内存时，才会复制一份内存，从而提高性能。

## `String`的不可变性
答案：
* `String`类被`final`修饰，不能被继承。
* `String`类内部的字符数组`value`被`final`修饰，不能被修改。
* `String`类内部重写了`equals()`、`hashCode()`、`compareTo()`等方法，保证`String`对象的比较是基于内容而不是基于引用。

引申：`String`的内存结构
* `String`类内部使用`char[]`数组存储字符串，每个字符占用2个字节。
* `String`类内部使用`final`修饰的`char[]`数组，不能被修改。
